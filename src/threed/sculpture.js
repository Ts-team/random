import {
  createElement as $,
  PropTypes,
} from 'react';
import compose from 'recompose/compose';
import withState from 'recompose/withState';
import withHandlers from 'recompose/withHandlers';
import onlyUpdateForPropTypes from 'recompose/onlyUpdateForPropTypes';
import setPropTypes from 'recompose/setPropTypes';

import React3 from 'react-three-renderer';
import * as THREE from 'three';

import frag from '../tools/shaders/cloth/fragment';
import vert from '../tools/shaders/cloth/vertex';

const blackDots = 'data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAASABIAAD/4QD0RXhpZgAATU0AKgAAAAgABwESAAMAAAABAAEAAAEaAAUAAAABAAAAYgEbAAUAAAABAAAAagEoAAMAAAABAAIAAAExAAIAAAAbAAAAcgEyAAIAAAAUAAAAjodpAAQAAAABAAAAogAAAAAAAABIAAAAAQAAAEgAAAABQWRvYmUgUGhvdG9zaG9wIENTIFdpbmRvd3MAADIwMTA6MDM6MTMgMDg6NDA6NDUAAASQBAACAAAAFAAAANigAQADAAAAAQABAACgAgAEAAAAAQAAANOgAwAEAAAAAQAAA/cAAAAAMjAxMDowMzoxMyAwODo0MDo0NQD/4QvlaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJYTVAgQ29yZSA1LjQuMCI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpNZXRhZGF0YURhdGU9IjIwMTAtMDMtMTNUMDg6NDA6NDUrMDU6MzAiIHhtcDpDcmVhdGVEYXRlPSIyMDEwLTAzLTEzVDA4OjQwOjQ1KzA1OjMwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAxMC0wMy0xM1QwODo0MDo0NSswNTozMCIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1MgV2luZG93cyIgZGM6Zm9ybWF0PSJpbWFnZS9qcGVnIiB4bXBNTTpJbnN0YW5jZUlEPSJ1dWlkOmZhMjQyOTA0LTJlNGQtMTFkZi1iNTRlLWIwNTJmOWJlMjY5ZiIgeG1wTU06RG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOmZhMjQyOTAzLTJlNGQtMTFkZi1iNTRlLWIwNTJmOWJlMjY5ZiI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ1dWlkOjc0YWIwZTQzLTJhYjUtMTFkZi1hMTNhLTk5OWQzMzgxNTY4OSIgc3RSZWY6ZG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOmZjZDU4M2VlLTJhYWEtMTFkZi1hMTNhLTk5OWQzMzgxNTY4OSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8P3hwYWNrZXQgZW5kPSJ3Ij8+AP/tAGRQaG90b3Nob3AgMy4wADhCSU0EBAAAAAAALBwBWgADGyVHHAIAAAIAAhwCPgAIMjAxMDAzMTMcAj8ACzA4NDA0NSswNTMwOEJJTQQlAAAAAAAQ/vxxFH+cE8UBlsOKpYvsEv/AABEIA/cA0wMBEQACEQEDEQH/xAAfAAABBQEBAQEBAQAAAAAAAAAAAQIDBAUGBwgJCgv/xAC1EAACAQMDAgQDBQUEBAAAAX0BAgMABBEFEiExQQYTUWEHInEUMoGRoQgjQrHBFVLR8CQzYnKCCQoWFxgZGiUmJygpKjQ1Njc4OTpDREVGR0hJSlNUVVZXWFlaY2RlZmdoaWpzdHV2d3h5eoOEhYaHiImKkpOUlZaXmJmaoqOkpaan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';


export const Part = compose(
  onlyUpdateForPropTypes,
  setPropTypes({
    geometry: PropTypes.object.isRequired,
    height: PropTypes.number.isRequired,
    isTextured: PropTypes.bool,
    position: PropTypes.object.isRequired,
    radiusBottom: PropTypes.number,
    radiusTop: PropTypes.number,
    rotation: PropTypes.object.isRequired,
    thetaLength: PropTypes.number,
    thetaStart: PropTypes.number,
  }),
)((props) => {
  const {
    geometry,
    height,
    isTextured = false,
    position,
    radiusBottom,
    radiusTop,
    rotation,
    thetaLength,
    thetaStart,
  } = props;
  return $('mesh',
    {
      castShadow: true,
      position: new THREE.Vector3(position.x, position.y, position.z),
      receiveShadow: true,
      rotation: new THREE.Euler(rotation.x, rotation.y, rotation.z),
    },
      $(geometry, {
        depth: 0.6,
        height,
        radiusBottom,
        radiusTop,
        thetaLength,
        thetaStart,
        width: 0.02,
      }),
      $('meshLambertMaterial',
        {
          color: 0xffffff,
          side: THREE.DoubleSide,
        },
          !isTextured ? null : $('textureResource', { resourceId: 'blackDots' }),
      ),
      $('shaderMaterial',
        {
          slot: 'customDepthMaterial',
          fragmentShader: frag,
          vertexShader: vert,
        },
          $('uniforms', undefined,
            $('uniform',
              {
                name: 'texture',
                type: 't',
              },
                !isTextured ? null : $('textureResource', { resourceId: 'blackDots' }),
            ),
          ),
      ),
  );
});


export default compose(
  withState('ambientLightColor', 'setAmbientLightColor', 0xffface),
  withState('directionalLightPosition', 'setDirectionalLightPosition', new THREE.Vector3(5, 10, 7).multiplyScalar(1.3)),
  withState('cameraPosition', 'setCameraPosition', new THREE.Vector3(-3, 2, 6)),
  withState('fog', 'setFog', new THREE.Fog(0xcce0ff, 200, 200)),
  withState('scenePosition', 'setScenePosition', new THREE.Vector3(0, 2, 0)),
  withHandlers({
    onAnimate: ({ cameraPosition, setCameraPosition, directionalLightPosition, setDirectionalLightPosition }) => () => {
      const time = Date.now();
      setCameraPosition(new THREE.Vector3(
        Math.cos(time * 0.001) * 10,
        cameraPosition.y,
        Math.sin(time * 0.001) * 10,
      ));
      setDirectionalLightPosition(new THREE.Vector3(
        Math.cos(time * 0.001) * 10,
        directionalLightPosition.y,
        Math.sin(time * 0.001) * 10,
      ));
    },
  }),
  // lifecycle({
  //   componentDidMount() {
  //     // Create meshes from JSON
  //     const meshes = [];

  //     const parsedModel = new ParsedModel();
  //     parsedModel.load('test.dae')
  //     .then(() => {
  //       parsedModel.geometries.forEach((geometry, uuid) => {
  //         const material = parsedModel.materialsArray[parsedModel.materialIndices.get(uuid)];
  //         meshes.push(
  //           $('mesh', { key: uuid },
  //             $('geometry', {
  //               vertices: geometry.vertices,
  //               faces: geometry.faces,
  //             }),
  //             createMaterial(material),
  //           ),
  //         );
  //       });
  //       this.props.setMeshes(meshes);
  //       console.log('meshes', meshes)
  //     });
  //   },
  // }),
)((props) => {
  const {
    ambientLightColor,
    cameraPosition,
    directionalLightPosition,
    fog,
    onAnimate,
    scenePosition,
  } = props;
  const width = window.innerWidth;
  const height = window.innerHeight;

  return $(React3,
    {
      clearColor: 0xcce0ff,
      height,
      mainCamera: 'mainCamera',
      onAnimate,
      pixelRatio: window.devicePixelRatio,
      shadowMapEnabled: true,
      // shadowMapType: THREE.PCFSoftShadowMap,
      width,
    },
      $('scene',
        {
          fog,
          castShadow: true,
          receiveShadow: true,
        },
          $('resources', undefined,
            $('texture', {
              url: 'black-dots.png',
              wrapS: THREE.RepeatWrapping,
              wrapT: THREE.RepeatWrapping,
              anisotropy: 16,
              resourceId: 'blackDots',
            }),
          ),
          $('perspectiveCamera', {
            name: 'mainCamera',
            fov: 30,
            aspect: width / height,
            near: 1,
            far: 10000,
            lookAt: scenePosition,
            position: cameraPosition,
          }),
          $('ambientLight', { color: ambientLightColor }),
          $('directionalLight', {
            castShadow: true,
            color: 0xdfebff,
            position: directionalLightPosition,
            lookAt: scenePosition,
            shadowCameraRight: 5,
            shadowCameraLeft: -5,
            shadowCameraTop: 5,
            shadowCameraBottom: -5,
          }),
          $(Part, {
            geometry: 'boxGeometry',
            height: 4,
            isTextured: true,
            position: { x: 0, y: 2, z: 0 },
            rotation: { x: 0, y: 0, z: -0.26 },
          }),
          $(Part, {
            geometry: 'boxGeometry',
            height: 2.7,
            isTextured: true,
            position: { x: 1, y: 1.4, z: 0 },
            rotation: { x: 0, y: 0, z: 0.13 },
          }),
          $(Part, {
            geometry: 'boxGeometry',
            height: 1.2,
            position: { x: 0.65, y: 3.14, z: 0.15 },
            rotation: { x: 0, y: 0, z: 1.22 },
          }),
          $(Part, {
            geometry: 'cylinderGeometry',
            height: 0.02,
            isTextured: true,
            position: { x: 0.06, y: 3.76, z: 0 },
            radiusBottom: 0.7,
            radiusTop: 0.7,
            rotation: { x: 1.57, y: 1.27, z: 0 },
            thetaLength: 1.57,
            thetaStart: 0,
          }),
          $(Part, {
            geometry: 'cylinderGeometry',
            height: 0.02,
            position: { x: -0.53, y: 0.83, z: -0.16 },
            radiusBottom: 0.7,
            radiusTop: 0.7,
            rotation: { x: 0, y: 3.14, z: 0.2 },
            thetaLength: 3.14,
            thetaStart: 1.57,
          }),
          $(Part, {
            geometry: 'boxGeometry',
            height: 2,
            position: { x: 0.26, y: 2, z: 0.17 },
            rotation: { x: 0, y: 0, z: -1.38 },
          }),
          $(Part, {
            geometry: 'cylinderGeometry',
            height: 0.02,
            position: { x: 1, y: 2.5, z: 0 },
            radiusBottom: 0.7,
            radiusTop: 0.7,
            rotation: { x: 1.57, y: 0, z: 0 },
            thetaLength: 1.57,
            thetaStart: 0.15,
          }),
          $(Part, {
            geometry: 'boxGeometry',
            height: 2.4,
            position: { x: -0.6, y: 2.6, z: 0 },
            rotation: { x: 0, y: 0, z: 0.16 },
          }),
          $(Part, {
            geometry: 'boxGeometry',
            height: 0.7,
            isTextured: true,
            position: { x: -0.7, y: 3.3, z: 0.2 },
            rotation: { x: 0, y: 0, z: -1.27 },
          }),
      ),
  );
});
